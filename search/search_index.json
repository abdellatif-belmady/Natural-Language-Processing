{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Natural Language Processing Project","text":""},{"location":"#introduction","title":"Introduction","text":"<p>Abstractive Summarization est une t\u00e2che du Natural Language Processing (NLP) qui vise \u00e0 g\u00e9n\u00e9rer un r\u00e9sum\u00e9 concis d\u2019un texte source. Contrairement au extractive summarization, Abstractive Summarization ne se contente pas de copier les phrases importantes du texte source, mais peut \u00e9galement en cr\u00e9er de nouvelles qui sont pertinentes, ce qui peut \u00eatre consid\u00e9r\u00e9 comme une paraphrase. Abstractive Summarization donne lieu \u00e0 un certain nombre d\u2019applications dans diff\u00e9rents domaines, des livres et de la litt\u00e9rature, \u00e0 la science et \u00e0 la R&amp;D, \u00e0 la recherche financi\u00e8re et \u00e0 l\u2019analyse de documents juridiques.</p> <p>Jusqu\u2019\u00e0 pr\u00e9sent, l\u2019approche la plus r\u00e9cente et la plus efficace en mati\u00e8re de Abstractive Summarization consiste \u00e0 utiliser des mod\u00e8les de transformation sp\u00e9cifiquement adapt\u00e9s \u00e0 un ensemble de donn\u00e9es de r\u00e9sum\u00e9. Dans cette \u00e9tude, nous d\u00e9montrons comment vous pouvez facilement r\u00e9sumer un texte \u00e0 l\u2019aide d\u2019un mod\u00e8le puissant en quelques \u00e9tapes simples. Tout d\u2019abord, nous utiliserons deux mod\u00e8les qui sont d\u00e9j\u00e0 pr\u00e9-entra\u00een\u00e9s, de sorte qu\u2019aucun entrainnement suppl\u00e9mentaire n\u2019est n\u00e9cessaire, puis nous affinerons l\u2019un de ces deux mod\u00e8les sur notre base de donn\u00e9es.</p> <p>Sans plus attendre, commen\u00e7ons !</p>"},{"location":"#importer-les-donnees","title":"Importer les donn\u00e9es","text":"<pre><code>import pandas as pd\ndata = pd.read_json(\"/content/sample_data/AgrSmall.json\")\ndata.head()\n</code></pre>"},{"location":"#utilisation-de-transformer-bart-large-cnn-t5-base","title":"Utilisation de transformer <code>bart-large-cnn</code> &amp; <code>t5-base</code>","text":""},{"location":"#installer-la-bibliotheque-transformers","title":"Installer la biblioth\u00e8que Transformers","text":"<p>La biblioth\u00e8que que nous allons utiliser est Transformers par Huggingface.</p> <p>Pour installer des transformateurs, il suffit d\u2019ex\u00e9cuter cette cellule :</p> <pre><code>pip install transformers\n</code></pre> <p>Note</p> <p>Transformers n\u00e9cessite l\u2019installation pr\u00e9alable de Pytorch. Si vous n\u2019avez pas encore install\u00e9 Pytorch, rendez-vous sur le site officiel de Pytorch et suivez les instructions pour l\u2019installer.</p>"},{"location":"#importer-les-bibliotheques","title":"Importer les biblioth\u00e8ques","text":"<p>Apr\u00e8s avoir install\u00e9 transformers avec succ\u00e8s, nous pouvons maintenant commencer \u00e0 l\u2019importer dans votre script Python. Nous pouvons \u00e9galement importer <code>os</code> afin de d\u00e9finir la variable d\u2019environnement \u00e0 utiliser par le GPU \u00e0 l\u2019\u00e9tape suivante.</p> <pre><code>from transformers import pipeline\nimport os\n</code></pre> <p>Maintenant, nous sommes pr\u00eats \u00e0 s\u00e9lectionner the summarization model \u00e0 utiliser. Huggingface fournit deux summarization models puissants \u00e0 utiliser : BART (bart-large-cnn) et t5 (t5-small, t5-base, t5-large, t5-3b, t5-11b). Pour en savoir plus sur ces mod\u00e8les veuillez consulter leurs documents officiels (document BART, document t5).</p> <p>Pour utiliser le mod\u00e8le BART, qui est form\u00e9 sur le CNN/Daily Mail News Dataset, nous avons utilis\u00e9s directement les param\u00e8tres par d\u00e9faut via le module int\u00e9gr\u00e9 Huggingface pipeline :</p> <pre><code>summarizer = pipeline(\"summarization\")\n</code></pre> <p>Pour utiliser le mod\u00e8le t5 (par exemple t5-base), qui est entra\u00een\u00e9 sur c4 Common Crawl web corpus, nous avons proc\u00e9d\u00e9 comme suit :</p> <pre><code>summarizer = pipeline(\"summarization\", model=\"t5-base\", tokenizer=\"t5-base\", framework=\"tf\")\n</code></pre> <p>Pour plus d\u2019informations, veuillez vous r\u00e9f\u00e9rer \u00e0 la Huggingface documentation.</p>"},{"location":"#entrer-le-texte-a-resumer","title":"Entrer le texte \u00e0 r\u00e9sumer","text":"<p>Maintenant que notre mod\u00e8le est pr\u00eat, nous pouvons commencer \u00e0 choisir les textes que nous voulons r\u00e9sumer. Nous proposons de choisir les 4 premiers abstracts dans notre base de donn\u00e9es :</p> <p>Nous d\u00e9finissons nos variables :</p> <pre><code>text_1 = data[\"abstracts\"][0]\nprint(text_1)\n</code></pre> Output text_1 <p>Most people in rural areas in South Africa (SA) rely on untreated drinking groundwater sources and pit latrine sanitations. A minimum basic sanitation facility should enable safe and appropriate removal of human waste, and although pit latrines provide this, they are still contamination concerns. Pit latrine sludge in SA is mostly emptied and disposed off-site as waste or buried in-situ. Despite having knowledge of potential sludge benefits, most communities in SA are reluctant to use it. This research captured social perceptions regarding latrine sludge management in Monontsha village in the Free State Province of SA through key informant interviews and questionnaires. A key informant interview and questionnaire was done in Monontsha, SA. Eighty participants, representing 5% of all households, were selected. Water samples from four boreholes and four rivers were analyzed for faecal coliforms and E.coli bacteria. On average, five people in a household were sharing a pit latrine. Eighty-three percent disposed filled pit latrines while 17% resorted to closing the filled latrines. Outbreaks of diarrhoea (69%) and cholera (14%) were common. Sixty percent were willing to use treated faecal sludge in agriculture. The binary logistic regression model indicated that predictor variables significantly (p \u02c2 0.05) described water quality, faecal sludge management, sludge application in agriculture and biochar adaption. Most drinking water sources in the study had detections \u02c2 1 CFU/100 mL. It is therefore imperative to use both qualitative surveys and analytical data. Awareness can go a long way to motivate individuals to adopt to a new change. View Full-Text</p> <pre><code>text_2 = data[\"abstracts\"][1]\nprint(text_2)\n</code></pre> Output text_2 <p>The aim of this study was to highlight the importance of socioeconomic and psychosocial factors in the adoption of sustainable agricultural practices (SAPs) in banana farm production. To this end, data from 300 randomly selected farm households from Pakistan were collected through a structured self-report questionnaire. Using logistic regression (LR) and structural equation modeling (SEM), socioeconomic and psychosocial effects were evaluated. The results show that economic status, watching agricultural training programs, newspaper and radio awareness campaigns, participation in extension programs, perceptions of sustainable agriculture and the feasibility of SAPs were significant factors in farmers\u2019 adoption of sustainable agriculture practices. Also, consistent with the theory of planned behavior (TPB), all its dimensions (attitude, subjective norms and perceived behavioral control) affected the adoption of SAPs. This finding highlights the importance of socioeconomic and psychosocial factors in promoting sustainable agricultural practice among banana production farmers. This is the first study which attempts to provide empirical evidence using a robust procedure (two models\u2014LR and SEM). The practical implication is that, when socioeconomic and psychosocial factors are well supported by satisfactory policy measures, SAP adoption is more than likely, which eventually increases farmers\u2019 adaptive capacity to the changing environment. Ultimately, this leads to sustainable banana production, which has great potential to contribute towards poverty eradication. View Full-Text</p> <pre><code>text_3 = data[\"abstracts\"][2]\nprint(text_3)\n</code></pre> Output text_3 <p>Urban agriculture and gardening provide many health benefits, but the soil is sometimes at risk of heavy metal and metalloid (HMM) contamination. HMM, such as lead and arsenic, can result in adverse health effects for humans. Gardeners may face exposure to these contaminants because of their regular contact with soil and consumption of produce grown in urban areas. However, there is a lack of research regarding whether differential exposure to HMM may be attributed to differential knowledge of exposure sources. In 2018, industrial slag and hazardous levels of soil contamination were detected in West Atlanta. We conducted community-engaged research through surveys and follow-up interviews to understand awareness of slag, HMM in soil, and potential remediation options. Home gardeners were more likely to recognize HMM health effects and to cite health as a significant benefit of gardening than community gardeners. In terms of knowledge, participants were concerned about the potential health effects of contaminants in soil yet unconcerned with produce in their gardens. Gardeners\u2019 knowledge on sources of HMM exposure and methods for remediation were low and varied based on racial group. View Full-Text</p> <pre><code>text_4 = data[\"abstracts\"][3]\nprint(text_4)\n</code></pre> Output text_4 <p>Waste management has become pertinent in urban regions, along with rapid population growth. The current ways of managing waste, such as refuse collection and recycling, are failing to minimise waste in cities. With urban populations growing worldwide, there is the challenge of increased pressure to import food from rural areas. Urban agriculture not only presents an opportunity to explore other means of sustainable food production, but for managing organic waste in cities. However, this opportunity is not taken advantage of. Besides, there is a challenge of mixed reactions from urban planners and policymakers concerning the challenges and benefits presented by using organic waste in urban agriculture. The current paper explores the perceived challenges and opportunities for organic waste utilisation and management through urban agriculture in the Durban South Basin in eThekwini Municipality in KwaZulu-Natal (KZN) Province of South Africa. It is anticipated that this information will be of use to the eThekwini Municipality, policymakers, researchers, urban agriculture initiatives, households and relevant stakeholders in the study areas and similar contexts globally. Two hundred (200) households involved in any urban farming activity and ten (10) key informants (six (6) staff from the Cleaning and Solid Waste Unit of the eThekwini Municipality and four (4) from the urban agricultural initiative) were selected using convenient sampling. Descriptive statistics and inductive thematic analysis were used to analyse data. The significant perceived challenges and risks associated with the utilisation of organic waste through urban agriculture included lack of a supporting policy, climatic variation, lack of land tenure rights, soil contamination and food safety concerns. Qualitative data further showed that the difficulty in segregating waste, water scarcity, difficulty in accessing inputs, limited transportation of organic waste, inadequate handling and treatment of organic waste, and being a health hazard were some important challenges. On the other hand, the significant perceived benefits associated with the utilisation of organic waste through urban agriculture were enhanced food and nutrition security, and opportunities for business incubation. Other important benefits established through qualitative data were an improved market expansion for farmers and improved productivity. Overall, despite the perceived challenges and risks, there is an opportunity to manage organic waste through urban agriculture. It is imperative for an integrated policy encompassing the food, climate and waste management to be developed to support this strategy. All stakeholders\u2014the government, municipal authorities and urban agricultural initiatives should also, guided by the policy, support urban farmers, for example, through pieces of training on how to properly manage and recycle organic waste, land distribution, inputs availability and water usage rights among other things. View Full-Text</p>"},{"location":"#generation-de-resume","title":"G\u00e9n\u00e9ration de r\u00e9sum\u00e9","text":"<p>Enfin, nous pouvons commencer \u00e0 r\u00e9sumer les textes entr\u00e9s. Ici, nous d\u00e9clarons la longueur minimale et la longueur maximale que nous souhaitons pour la sortie des r\u00e9sum\u00e9s, et nous d\u00e9sactivons \u00e9galement l\u2019\u00e9chantillonnage pour g\u00e9n\u00e9rer des r\u00e9sum\u00e9s fixes. Nous pouvons le faire en ex\u00e9cutant les commandes suivantes :</p> <p><pre><code>summary_text_1 = summarizer(text, max_length=100, min_length=5, do_sample=False)[0]['summary_text']\nprint(summary_text_1)\n</code></pre> Voil\u00e0 ! Nous obtenons le r\u00e9sum\u00e9 de premier texte :</p> Output <p>Most people in rural areas in South Africa rely on untreated drinking groundwater sources and pit latrine sanitations . Outbreaks of diarrhoea (69%) and cholera (14%) were common. Sixty percent were willing to use treated faecal sludge in agriculture .</p> <p><pre><code>summary_text_2 = summarizer(text_2, max_length=100, min_length=5, do_sample=False)[0]['summary_text']\nprint(summary_text_2)\n</code></pre> Voil\u00e0 ! Nous obtenons le r\u00e9sum\u00e9 de deuxi\u00e8me texte :</p> Output <p>The aim of this study was to highlight the importance of socioeconomic and psychosocial factors in the adoption of sustainable agricultural practices (SAPs) in banana farm production . Economic status, watching agricultural training programs, newspaper and radio awareness campaigns, perceptions of sustainable agriculture and the feasibility of SAPs were significant factors .</p> <pre><code>summary_text_3 = summarizer(text_3, max_length=100, min_length=5, do_sample=False)[0]['summary_text']\nprint(summary_text_3)\n</code></pre> <p>Voil\u00e0 ! Nous obtenons le r\u00e9sum\u00e9 de troisi\u00e8me texte :</p> Output <p>Heavy metal and metalloid (HMM) contamination can result in adverse health effects for humans . In 2018, industrial slag and hazardous levels of soil contamination were detected in West Atlanta . Home gardeners were more likely to recognize HMM health effects than community gardeners .</p> <p><pre><code>summary_text_4 = summarizer(text_4, max_length=100, min_length=5, do_sample=False)[0]['summary_text']\nprint(summary_text_4)\n</code></pre> Voil\u00e0 ! Nous obtenons le r\u00e9sum\u00e9 de quatri\u00e8me texte :</p> Output <p>Waste management has become pertinent in urban regions, along with rapid population growth . The current ways of managing waste, such as refuse collection and recycling, are failing to minimise waste in cities . With urban populations growing worldwide, there is the challenge of increased pressure to import food from rural areas .</p>"},{"location":"#fine-tuning-simplet5","title":"Fine-tuning SimpleT5","text":"<pre><code>!pip install simplet5\n</code></pre> <pre><code>import pandas as pd\nfrom sklearn.model_selection import train_test_split\npath = \"/content/sample_data/AgrSmall.json\"\ndf = pd.read_json(path)\ndf.head()\n</code></pre> <pre><code># simpleT5 expects dataframe to have 2 columns: \"source_text\" and \"target_text\"\ndf = df.rename(columns={\"titles\":\"target_text\", \"abstracts\":\"source_text\"})\ndf = df[['source_text', 'target_text']]\n# T5 model expects a task related prefix: since it is a summarization task, we will add a prefix \"summarize: \"\ndf['source_text'] = \"summarize: \" + df['source_text']\ndf\n</code></pre> <pre><code>train_df, test_df = train_test_split(df, test_size=0.2)\ntrain_df.shape, test_df.shape\n</code></pre> <pre><code>from simplet5 import SimpleT5\nmodel = SimpleT5()\nmodel.from_pretrained(model_type=\"t5\", model_name=\"t5-base\")\nmodel.train(train_df=train_df[:3000],\neval_df=test_df[:100], \nsource_max_token_len=128, \ntarget_max_token_len=50, \nbatch_size=8, max_epochs=3, use_gpu=True)\n</code></pre> <pre><code># let's load the trained model for inferencing:\nmodel.load_model(\"t5\",\"/content/outputs/simplet5-epoch-0-train-loss-2.806-val-loss-2.5596\", use_gpu=True)\ntext_1 = data[\"abstracts\"][0]\ntext_2 = data[\"abstracts\"][1]\ntext_3 = data[\"abstracts\"][2]\ntext_4 = data[\"abstracts\"][3]\n</code></pre> <pre><code>model.predict(text_1)\n</code></pre> Output <p>[\u2018latrine sludge management in Monontsha, Free State Province of South Africa. Key informant interviews and questionnaires\u2019]</p> <pre><code>model.predict(text_2)\n</code></pre> Output <p>[\u2018sustainable agriculture practices among banana production farmers in Pakistan: Evidence from LR and SEM\u2019]</p> <pre><code>model.predict(text_3)\n</code></pre> Output <p>[\u2018soil contamination from industrial slag and hazardous levels of metalloid (HMM) contamination in West Atlanta, Georgia. Community-engaged research\u2019]</p> <pre><code>model.predict(text_4)\n</code></pre> Output <p>[\u2018challenges and opportunities for organic waste utilisation and management through urban agriculture in the Durban South Basin, KwaZulu-Natal Province of South Africa\u2019]</p>"}]}